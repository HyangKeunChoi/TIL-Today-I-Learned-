## 개발환경
1. java 1.8
2. 인텔리제이
3. MySql
4. spring boot 2.5.3
5. spring batch
6. jdbc api
7. mysql
8. spring data jpa
9. spring configuration processor
10. lombok

## 배치 작업이란?
1. 실시간 작업과 달리 한번에 모아서 처리하는 작업
2. 정산 작업, 메일 쿠폰 발송, 거래 명세서 생성, 추천 시스템 최신화 작업 등등

## 스프링 배치로 작업이 필요한 이유
1. 풍부한 기능
2. 일관성된 코드
3. 기존 서비스가 스프링 프레임워크로 되어 있는 경우 호환 가능

## 구조

![image](https://user-images.githubusercontent.com/49984996/229360935-5bc62e32-75df-41d6-9794-799a5854610d.png)

## application.yml

```java
spring:
  batch:
    job:
      names: ${job.name:NONE}
    jdbc:
      initialize-schema: ALWAYS
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/spring_batch
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: password1234
  jpa:
    show-sql: true
```

## HelloWorldJobConfig
```java
/**
 * desc: tasklet을 활용하여 Hello World를 출력
 * run: --job.name=helloWorldJob
 */
@Configuration
@RequiredArgsConstructor
public class HelloWorldJobConfig {

    @Autowired
    private JobBuilderFactory jobBuilderFactory;

    @Autowired
    private StepBuilderFactory stepBuilderFactory;

    @Bean
    public Job helloWorldJob() {
        return jobBuilderFactory.get("helloWorldJob")
                .incrementer(new RunIdIncrementer())
                .start(helloWorldStep())
                .build();
    }

    @JobScope
    @Bean
    public Step helloWorldStep() {
        return stepBuilderFactory.get("helloWorldStep")
                .tasklet(helloWorldTasklet())
                .build();
    }

    @StepScope
    @Bean
    public Tasklet helloWorldTasklet() {
        return new Tasklet() {
            @Override
            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {
                System.out.println("Hello World Spring Batch");
                return RepeatStatus.FINISHED;
            }
        };
    }
}
```
