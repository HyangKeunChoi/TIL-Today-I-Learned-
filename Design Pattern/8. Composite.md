## Composite

+ 전체 계층구조와 그 계층구조를 구성하는 부분적인 계층을 클라이언트 입장에서 동일하게 취급할수 있게끔 하는 구조를 만드는 패턴
  - 클라이언트 입장에서는 전체 인지, 부분 인지 알 필요 없이 동일한 인터페이스를 사용하게 끔하는 패턴

+ 제약 : 트리구조를 구성해야 된다.

> 가방의 모든 아이템 가격을 출력

```java
int sum = bag.getItems().stream().mapToInt(Item::getPrice).sum();
```

+ 클라이언트는 컴포넌트라는 인터페이스만 사용해야 한다.
+ Leaf는 Primitive한(기본적인) 단위
+ Composite은 Primitive한 타입들을 그룹으로 묶은 단위
  - 배열이나 리스트 형태
  - Leaf타입은 아니다. 
  - 컴포넌트 타입 이여야 한다.

## 패턴 적용하기
+ Bag 클래스의 List<Item> items 는 컴포넌트로 바뀌어야 한다.
  - List<Component> component

## 컴포짓 (Composite) 패턴의 장단점

+ 장점
  - 복잡한 트리 구조를 편리하게 사용할 수 있다.
    - 트리의 어떠한 노드던지 상관없이 클라이언트는 공통된 인터페이스를 기준으로 그 인터페이스만 사용하면 된다.
  - 다형성과 재귀를 활용할 수 있다.
  - 클라이언트 코드를 변경하지 않고(OCP 원칙) 새로운 엘리먼트 타입을 추가할 수 있다.
+ 단점
  - 트리를 만들어야 하기 때문에 (공통된 인터페이스를 정의해야 하기 때문에) 지나치게 일반화 해야 하는 경우도 생길 수 있다.
  
## 실무에서 어떻게 쓰이나?

+ 자바
  - Swing 라이브러리
  - JSF (JavaServer Faces) 라이브러리
  
