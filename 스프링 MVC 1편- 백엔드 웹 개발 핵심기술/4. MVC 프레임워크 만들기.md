# 4. MVC 프레임워크 만들기

## 프론트 컨트롤러 패턴 소개

![image](https://user-images.githubusercontent.com/49984996/128195292-c3908b67-8abc-4f9a-8134-0ce37c7bb97c.png)


### FrontController 패턴 특징
+ 프론트 컨트롤러 서블릿 하나로 클라이언트의 요청을 받음
+ 프론트 컨트롤러가 요청에 맞는 컨트롤러를 찾아서 호출
+ 입구를 하나로!
+ 공통 처리 가능
+ 프론트 컨트롤러를 제외한 나머지 컨트롤러는 서블릿을 사용하지 않아도 됨

### 스프링 웹 MVC와 프론트 컨트롤러
+ 스프링 웹 MVC의 핵심도 바로 FrontController
+ 스프링 웹 MVC의 DispatcherServlet이 FrontController 패턴으로 구현되어 있음

## 프론트 컨트롤러 도입 - v1

## View 분리 - v2

## Model 추가 - v3
+ 서블릿 종속성 제거
+ 뷰 이름 중복 제거
+ ModelView

## 단순하고 실용적인 컨트롤러 - v4

+ 아키텍쳐가 너무 좋더라도, 개발자에게 안좋으면 잘 안되더라 (ex. EJB)
+ 스프링은 아키텍쳐도 좋으면서, 개발자들이 사용하기 너무 좋아서 성공한게 아닌가 싶다.

## 유연한 컨트롤러1 - v5

#### 어댑터 패턴

지금까지 우리가 개발한 프론트 컨트롤러는 한가지 방식의 컨트롤러 인터페이스만 사용할 수 있다.

ControllerV3 , ControllerV4 는 완전히 다른 인터페이스이다. 따라서 호환이 불가능하다. 마치 v3는

110v이고, v4는 220v 전기 콘센트 같은 것이다. 이럴 때 사용하는 것이 바로 어댑터이다.

어댑터 패턴을 사용해서 프론트 컨트롤러가 다양한 방식의 컨트롤러를 처리할 수 있도록 변경해보자.

+ handler는 컨트롤러라고 생각하자 :
  - controllerV3를 처리할 수있는 어댑터, Controllerv4를 처리할 수 있는 어댑터를 찾는다

+ 핸들러 어댑터: 중간에 어댑터 역할을 하는 어댑터가 추가되었는데 이름이 핸들러 어댑터이다. 여기서 어댑터 역할을 해주는 덕분에 다양한 종류의 컨트롤러를 호출할 수 있다.
+ 핸들러: 컨트롤러의 이름을 더 넓은 범위인 핸들러로 변경했다. 그 이유는 이제 어댑터가 있기 때문에 꼭 컨트롤러의 개념 뿐만 아니라 어떠한 것이든 해당하는 종류의 어댑터만 있으면 다 처리할 수 있기 때문이다.

## 유연한 컨트롤러2 - v5

## 정리
+ v1: 프론트 컨트롤러를 도입
  - 기존 구조를 최대한 유지하면서 프론트 컨트롤러를 도입
+ v2: View 분류
  - 단순 반복 되는 뷰 로직 분리
+ v3: Model 추가
  - 서블릿 종속성 제거
  - 뷰 이름 중복 제거
+ v4: 단순하고 실용적인 컨트롤러
  - v3와 거의 비슷
  - 구현 입장에서 ModelView를 직접 생성해서 반환하지 않도록 편리한 인터페이스 제공
+ v5: 유연한 컨트롤러
  - 어댑터 도입
  - 어댑터를 추가해서 프레임워크를 유연하고 확장성 있게 설계




