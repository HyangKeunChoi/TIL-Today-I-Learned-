
# Master-slave replication 구성하기

+ master외에 2개의 slave를 구성하기

+ mkdir -p /db/db002/data /db/db003/data
+ chmod 777 /db/db002 /db/db002/data
+ chmod 777 /db/db003 /db/db003/data

### 로그 디렉토리와 config 파일을 위한 볼륨도 reference할 수 있게 세팅
+ mkdir -p /db/db002/log /db/db002/conf
+ mkdir -p /db/db003/log /db/db003/conf
+ chmod 777 /db/db002/log /db/db0002/conf
+ chmod 777 /db/db003/log /db/db003/conf

![image](https://user-images.githubusercontent.com/49984996/236654523-bdba8432-f1d4-4d4e-95bc-28a0a556e6ee.png)

## slave container 생성
+ docker run -i -t --name db002 -h db002 -p 3307:3306 .......
+ 아래 참고

![image](https://user-images.githubusercontent.com/49984996/236654553-600077cd-1405-4918-a213-df7415e9b47d.png)

## Replication 설정 

![image](https://user-images.githubusercontent.com/49984996/236654742-8d6e5379-96ed-4881-83da-206df406a158.png)

![image](https://user-images.githubusercontent.com/49984996/236654755-b0a3887d-15ff-477a-bda3-a53de9f3ddf7.png)

