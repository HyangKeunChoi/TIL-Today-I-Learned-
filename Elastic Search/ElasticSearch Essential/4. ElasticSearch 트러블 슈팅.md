# ElasticSearch 트러블 슈팅

## 트러블 슈팅 기본
+ 트러블 슈팅이란 ? : 문제 상황을 파악하고 원인을 분석 후 해결하는 과정

## 문제 상황 파악
1. 모니터링 알람 확인
2. 클러스터 상태 확인
3. 노드에서의 에러 로그 확인
4. 클라이언트에서의 에러 로그 확인

## 원인 분석
+ 왜 문제가 발생 했는가?
1. 주요 지표 살펴보기
2. 에러 로그 분석

## 트러블 슈팅 사례 분석
+ 클러스터 상태가 green이 아니에요

> 이 자체가 문제인 상황으로 보면된다.

<img width="539" alt="image" src="https://user-images.githubusercontent.com/49984996/218288326-8cf8f4d5-559d-4dab-80a1-8c94a653616c.png">

+ Yellow 혹은 Red상태에 따른 영향도를 정확하게 파악하는 것이 먼저입니다.

## 원인 분석
```
curl -X GET "localhost:9200/_cat/indices" | grep -i red
```

+ Yellow 혹은 Red인 인덱스들 중 어떤 샤드들에 문제가 생겼는지 파악합니다.
